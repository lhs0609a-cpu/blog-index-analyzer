"""
ì»¤ë®¤ë‹ˆí‹° ìë™í™” ì‹œìŠ¤í…œ
- ê°€ìƒ ì‚¬ìš©ìë¡œ ê²Œì‹œê¸€/ëŒ“ê¸€ ìë™ ìƒì„±
- ì»¤ë®¤ë‹ˆí‹° í™œì„±í™” íš¨ê³¼
"""
import random
import asyncio
from datetime import datetime, timedelta
from typing import List, Dict
import logging

logger = logging.getLogger(__name__)

# ============ ê°€ìƒ ë¸”ë¡œê±° ì´ë¦„ í’€ ============
BLOGGER_NAMES = [
    # ì‹¤ì œ ë¸”ë¡œê·¸ ìŠ¤íƒ€ì¼ ë‹‰ë„¤ì„
    "ë¯¼ì§€", "ìˆ˜í˜„", "ì§€ìœ ", "í•˜ì€", "ì„œì—°", "ì˜ˆë¦°", "ì†Œë¯¼", "ì±„ì›", "ìœ ë‚˜", "ë‹¤í˜„",
    "ì¤€í˜¸", "ë¯¼ì„", "ì§€í›ˆ", "í˜„ìš°", "ì„±ë¯¼", "ì¬í˜„", "ë„ìœ¤", "ì‹œìš°", "ìœ ì¤€", "ê±´ìš°",

    # ì˜ì–´ ë‹‰ë„¤ì„
    "sunny", "luna", "mimi", "coco", "hana", "yuri", "nana", "riri", "jini", "somi",
    "jay", "dan", "leo", "max", "ben", "tom", "sam", "ryan", "kevin", "alex",

    # ì´ë¦„+ìˆ«ì ì¡°í•©
    "ë¯¼ì§€92", "ìˆ˜í˜„88", "ì§€ìœ 95", "í•˜ì€90", "ì„œì—°87", "ì˜ˆë¦°93", "ì†Œë¯¼89", "ì±„ì›91",
    "ì¤€í˜¸85", "ë¯¼ì„86", "ì§€í›ˆ94", "í˜„ìš°89", "ì„±ë¯¼91", "ì¬í˜„88", "ë„ìœ¤96", "ì‹œìš°93",

    # ì˜ì–´+ìˆ«ì
    "sunny0325", "luna1203", "mimi_kim", "coco_lee", "hana0901", "yuri_park",
    "jay_blog", "dan1127", "leo_seo", "max_cho", "ben0507", "tom_jung",

    # ìì—°ìŠ¤ëŸ¬ìš´ ë¸”ë¡œê·¸ ë‹‰ë„¤ì„
    "ì˜¤ëŠ˜ì˜í•˜ë£¨", "ì‘ì€í–‰ë³µ", "ì¼ìƒê¸°ë¡", "ë‚˜ì˜ì´ì•¼ê¸°", "ì†Œì†Œí•œê¸°ë¡",
    "ë§¤ì¼ë§¤ì¼", "ì¡°ìš©í•œì˜¤í›„", "ì»¤í”¼í•œì”", "ëŠë¦°í•˜ë£¨", "ì‘ì€ì •ì›",

    # ì§ì—… ëŠë‚Œ
    "ë§ˆì¼€í„°J", "ë””ìì´ë„ˆK", "ê°œë°œìL", "ê¸°íšìM", "ì—ë””í„°N",
    "ì‘ê°€ì˜ë°©", "ì‚¬ì§„ê°€S", "ì˜ìƒìŸì´", "ì½˜í…ì¸ ëŸ¬", "í¬ë¦¬ì—ì´í„°",

    # ì·¨ë¯¸ ê¸°ë°˜
    "ì±…ì½ëŠ”ë°¤", "ê¸€ì“°ëŠ”ì‚¬ëŒ", "ì—¬í–‰ì¤‘", "ì¹´í˜íƒë°©", "ë§›ì§‘ìˆœë¡€",
    "ìš´ë™í•˜ëŠ”ë‚ ", "ìš”ë¦¬ì¼ê¸°", "ë² ì´í‚¹ë£¸", "ê°€ë“œë‹", "ìº í•‘ëŸ¬ë²„",

    # ì§€ì—­+ì´ë¦„
    "ê°•ë‚¨ìˆ˜í˜„", "ë¶„ë‹¹ë¯¼ì§€", "íŒêµì œì´", "ì¼ì‚°ë£¨ë‚˜", "ì†¡íŒŒì½”ì½”",
    "í•´ìš´ëŒ€ì¤€", "ì„œë©´ë‹¤ë‹ˆ", "ê´‘ì•ˆë¦¬ì†”", "ìˆ˜ì˜êµ¬ë§˜", "ì„¼í…€ì‹œí‹°",

    # ì—„ë§ˆ/ì•„ë¹  ë¸”ë¡œê·¸
    "ë‘ì•„ì´ë§˜", "ì„¸ì•„ì´ë§˜", "ìœ¡ì•„ì¤‘", "ì›Œí‚¹ë§˜S", "í’€íƒ€ì„ë§˜",
    "ì£¼ë§ì•„ë¹ ", "ì‹ í˜¼ë¶€ë¶€", "ì˜ˆë¹„ë§˜", "ë‘˜ì§¸ì¤€ë¹„", "ì•„ê¸°ì™€í•¨ê»˜",

    # í•™ìƒ/ì§ì¥ì¸
    "ëŒ€í•™ìƒì¼ê¸°", "ì·¨ì¤€ì¼ìƒ", "ì§ì¥ì¸J", "íšŒì‚¬ì›K", "í”„ë¦¬ëœì„œL",
    "Nì¡ëŸ¬", "ë¶€ì—…ëŸ¬", "íˆ¬ì¡ì¤‘", "í‡´ì‚¬ì¤€ë¹„", "ì´ì§ê³ ë¯¼",
]

# ============ ê²Œì‹œê¸€ í…œí”Œë¦¿ ============
POST_TEMPLATES = {
    "tip": [
        {
            "title": "ë¸”ë¡œê·¸ ìƒìœ„ë…¸ì¶œ ì„±ê³µí•œ ë°©ë²• ê³µìœ í•©ë‹ˆë‹¤!",
            "content": """ì•ˆë…•í•˜ì„¸ìš”! ë¸”ë¡œê·¸ ì‹œì‘í•œ ì§€ 3ê°œì›” ëœ ì´ˆë³´ì…ë‹ˆë‹¤.

ë“œë””ì–´ ì²« ìƒìœ„ë…¸ì¶œì— ì„±ê³µí–ˆì–´ìš”! ğŸ‰

ì œê°€ í•´ë³¸ ë°©ë²• ê³µìœ í• ê²Œìš”:

1. **í‚¤ì›Œë“œ ì„ ì •ì´ ì§„ì§œ ì¤‘ìš”í•´ìš”**
   - ë¸”ë­í¬ì—ì„œ ê²½ìŸ ë¶„ì„ ë¨¼ì € í–ˆì–´ìš”
   - ìƒìœ„ ë¸”ë¡œê·¸ë“¤ ì§€ìˆ˜ í™•ì¸í•˜ê³  ë‚´ ìˆ˜ì¤€ì— ë§ëŠ” í‚¤ì›Œë“œ ì„ íƒ

2. **ê¸€ ë¶„ëŸ‰ì€ 2000ì ì´ìƒ**
   - ë„ˆë¬´ ì§§ìœ¼ë©´ ì•ˆ ë˜ë”ë¼êµ¬ìš”
   - ì‚¬ì§„ë„ 10ì¥ ì´ìƒ ë„£ì—ˆì–´ìš”

3. **ì œëª©ì— í‚¤ì›Œë“œ ê¼­ ë„£ê¸°**
   - ìì—°ìŠ¤ëŸ½ê²Œ ë„£ëŠ” ê²Œ í¬ì¸íŠ¸!

í˜¹ì‹œ ê¶ê¸ˆí•œ ê±° ìˆìœ¼ì‹œë©´ ëŒ“ê¸€ ë‚¨ê²¨ì£¼ì„¸ìš”~"""
        },
        {
            "title": "C-Rank ì˜¬ë¦¬ëŠ” í˜„ì‹¤ì ì¸ ë°©ë²• (ê²½í—˜ë‹´)",
            "content": """ë¸”ë¡œê·¸ 1ë…„ì°¨ì¸ë° C-Rankê°€ ì•ˆ ì˜¬ë¼ì„œ ê³ ë¯¼ ë§ì•˜ì–´ìš”.

ê·¼ë° ìµœê·¼ì— í™• ì˜¬ëê±°ë“ ìš”! ì–´ë–»ê²Œ í–ˆëŠ”ì§€ ê³µìœ í•©ë‹ˆë‹¤.

**1. ì´ì›ƒ ê´€ë¦¬**
- ì§„ì§œ ì†Œí†µí•˜ëŠ” ì´ì›ƒ ëŠ˜ë¦¬ê¸°
- ì„œë¡œì´ì›ƒ ì‹ ì²­ ì ê·¹ì ìœ¼ë¡œ

**2. ëŒ“ê¸€ í™œë™**
- ë‹¤ë¥¸ ë¸”ë¡œê·¸ ë°©ë¬¸í•´ì„œ ì§„ì‹¬ ë‹´ì€ ëŒ“ê¸€ ë‹¬ê¸°
- í•˜ë£¨ì— 10ê°œ ì´ìƒì€ í–ˆì–´ìš”

**3. ê¾¸ì¤€í•œ í¬ìŠ¤íŒ…**
- ì¼ì£¼ì¼ì— ìµœì†Œ 3ê°œ
- ì£¼ì œ ì¼ê´€ì„± ìˆê²Œ!

**4. ë¸”ë­í¬ë¡œ ë‚´ ì§€ìˆ˜ ì²´í¬**
- ë§¤ì£¼ ë¶„ì„í•´ì„œ ì–´ë””ê°€ ë¶€ì¡±í•œì§€ í™•ì¸
- D.I.A. ì ìˆ˜ íŠ¹íˆ ì‹ ê²½ì¼ì–´ìš”

í•œ ë‹¬ ì •ë„ í•˜ë‹ˆê¹Œ íš¨ê³¼ ë³´ì´ë”ë¼êµ¬ìš”.
ë‹¤ë“¤ í™”ì´íŒ…! ğŸ’ª"""
        },
        {
            "title": "í‚¤ì›Œë“œ ë¶„ì„ ì´ë ‡ê²Œ í•˜ë‹ˆê¹Œ ìƒìœ„ë…¸ì¶œ ë¨",
            "content": """ì˜¤ëŠ˜ ë“œë””ì–´ ëª©í‘œí–ˆë˜ í‚¤ì›Œë“œ 1í˜ì´ì§€ ì§„ì…í–ˆì–´ìš”!!

ë¸”ë­í¬ í‚¤ì›Œë“œ ë¶„ì„ ê¸°ëŠ¥ ì§„ì§œ ìœ ìš©í•˜ë”ë¼êµ¬ìš”.

**ì œê°€ í•œ ë°©ë²•:**

1. ë¨¼ì € ë©”ì¸ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰
2. ìƒìœ„ 10ê°œ ë¸”ë¡œê·¸ ì§€ìˆ˜ í™•ì¸
3. ë‚´ ë¸”ë¡œê·¸ ì§€ìˆ˜ë‘ ë¹„êµ
4. ë¹„ìŠ·í•˜ê±°ë‚˜ ë‚®ì€ í‚¤ì›Œë“œ ì„ íƒ
5. ì—°ê´€ í‚¤ì›Œë“œë„ í•¨ê»˜ í™•ì¸

ì²˜ìŒì—” ê²½ìŸ ì‹¬í•œ í‚¤ì›Œë“œë§Œ ë…¸ë ¸ëŠ”ë°
ê·¸ëŸ¬ë‹ˆê¹Œ ì•ˆ ë˜ë”ë¼êµ¬ìš” ã… ã… 

ëˆˆë†’ì´ ë‚®ì¶”ê³  í•  ë§Œí•œ í‚¤ì›Œë“œë¶€í„° ê³µëµí•˜ë‹ˆê¹Œ
í•˜ë‚˜ì”© ë˜ê¸° ì‹œì‘í–ˆì–´ìš”!

ë‹¤ë“¤ ë„ˆë¬´ ê²½ìŸ ì‹¬í•œ í‚¤ì›Œë“œë§Œ ë…¸ë¦¬ì§€ ë§ˆì„¸ìš”~"""
        },
    ],
    "question": [
        {
            "title": "ë¸”ë¡œê·¸ ì§€ìˆ˜ ì–´ëŠ ì •ë„ë©´ ê´œì°®ì€ ê±´ê°€ìš”?",
            "content": """ë¸”ë¡œê·¸ ì‹œì‘í•œ ì§€ 2ê°œì›” ëëŠ”ë°ìš”.

ë¸”ë­í¬ë¡œ ë¶„ì„í•´ë³´ë‹ˆê¹Œ
- ì´ì : 32ì 
- ë ˆë²¨: Lv.5
- C-Rank: 12ì 
- D.I.A.: 18ì 

ì´ ì •ë„ë©´ ì–´ëŠ ì •ë„ ìˆ˜ì¤€ì¸ê°€ìš”?
ì•„ì§ ìƒìœ„ë…¸ì¶œì€ í•œ ë²ˆë„ ëª» í•´ë´¤ì–´ìš” ã… ã… 

ì„ ë°°ë‹˜ë“¤ ì¡°ì–¸ ë¶€íƒë“œë¦½ë‹ˆë‹¤!"""
        },
        {
            "title": "í•˜ë£¨ì— í¬ìŠ¤íŒ… ëª‡ ê°œê°€ ì ë‹¹í• ê¹Œìš”?",
            "content": """ìš”ì¦˜ ë¸”ë¡œê·¸ ì—´ì‹¬íˆ í•˜ë ¤ê³  í•˜ëŠ”ë°
í•˜ë£¨ì— ëª‡ ê°œ ì •ë„ ì˜¬ë¦¬ëŠ” ê²Œ ì¢‹ì„ê¹Œìš”?

ë„ˆë¬´ ë§ì´ ì˜¬ë¦¬ë©´ ì €í’ˆì§ˆ ê±¸ë¦°ë‹¤ëŠ” ë§ë„ ìˆê³ 
ê¾¸ì¤€íˆ ë§¤ì¼ ì˜¬ë ¤ì•¼ í•œë‹¤ëŠ” ë§ë„ ìˆê³ ...

í˜¼ë€ìŠ¤ëŸ½ë„¤ìš” ã… ã… 

ê³ ìˆ˜ë‹˜ë“¤ì€ ì–´ë–»ê²Œ í•˜ì‹œë‚˜ìš”?"""
        },
        {
            "title": "ì´ì›ƒ ìˆ˜ê°€ ì ì€ë° ìƒìœ„ë…¸ì¶œ ê°€ëŠ¥í• ê¹Œìš”?",
            "content": """ë¸”ë¡œê·¸ ì´ì›ƒì´ 50ëª…ë°–ì— ì•ˆ ë˜ëŠ”ë°
ìƒìœ„ë…¸ì¶œ í•  ìˆ˜ ìˆì„ê¹Œìš”?

C-Rankê°€ ì´ì›ƒ ìˆ˜ë‘ ê´€ë ¨ ìˆë‹¤ê³  í•´ì„œ ê±±ì •ì´ì—ìš”.

ì´ì›ƒ ì ì–´ë„ ìƒìœ„ë…¸ì¶œ ì„±ê³µí•˜ì‹  ë¶„ ê³„ì‹ ê°€ìš”?
ì–´ë–»ê²Œ í•˜ì…¨ëŠ”ì§€ ê¶ê¸ˆí•©ë‹ˆë‹¤!"""
        },
    ],
    "success": [
        {
            "title": "ğŸ‰ ì²« ìƒìœ„ë…¸ì¶œ ì„±ê³µ! ë„ˆë¬´ ê¸°ë»ìš”",
            "content": """ë“œë””ì–´!!!! ì²« ìƒìœ„ë…¸ì¶œ ì„±ê³µí–ˆì–´ìš”!!!!

'ê°•ë‚¨ ë§›ì§‘ ì¶”ì²œ' í‚¤ì›Œë“œë¡œ 7ìœ„ ì°ì—ˆìŠµë‹ˆë‹¤ ã… ã… 

ë¸”ë¡œê·¸ ì‹œì‘í•œ ì§€ 4ê°œì›”ë§Œì´ì—ìš”.

ì¤‘ê°„ì— í¬ê¸°í•˜ê³  ì‹¶ì„ ë•Œë„ ë§ì•˜ëŠ”ë°
ë¸”ë­í¬ë¡œ ê¾¸ì¤€íˆ ë¶„ì„í•˜ë©´ì„œ ë¶€ì¡±í•œ ì  ê°œì„ í–ˆë”ë‹ˆ
ë“œë””ì–´ ë˜ë„¤ìš”!!

ë‹¤ë“¤ í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”!
ì €ë„ í–ˆìœ¼ë‹ˆê¹Œ ì—¬ëŸ¬ë¶„ë„ í•  ìˆ˜ ìˆì–´ìš”! ğŸ’ª"""
        },
        {
            "title": "ë ˆë²¨ 7 ë‹¬ì„±! ì„±ì¥ ê³¼ì • ê³µìœ ",
            "content": """ì˜¤ëŠ˜ ë“œë””ì–´ ë ˆë²¨ 7 ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤!

**ì„±ì¥ ê³¼ì •:**
- 1ê°œì›”ì°¨: Lv.3 (ë§‰ë§‰í–ˆìŒ)
- 2ê°œì›”ì°¨: Lv.4 (ì¡°ê¸ˆì”© ê° ì¡ìŒ)
- 3ê°œì›”ì°¨: Lv.5 (ì²« ìƒìœ„ë…¸ì¶œ)
- 4ê°œì›”ì°¨: Lv.6 (ê¾¸ì¤€íˆ ì„±ì¥)
- 5ê°œì›”ì°¨: Lv.7 (ëª©í‘œ ë‹¬ì„±!)

**í•µì‹¬ì€ ê¾¸ì¤€í•¨ì´ì—ˆì–´ìš”:**
- ë§¤ì¼ 1í¬ìŠ¤íŒ…
- ë§¤ì£¼ ë¸”ë­í¬ë¡œ ì§€ìˆ˜ ì²´í¬
- ë¶€ì¡±í•œ ì  ê³„ì† ê°œì„ 

ë‹¤ìŒ ëª©í‘œëŠ” Lv.9ì…ë‹ˆë‹¤!
ë‹¤ë“¤ í™”ì´íŒ…! ğŸ”¥"""
        },
    ],
    "review": [
        {
            "title": "ë¸”ë­í¬ í•œ ë‹¬ ì‚¬ìš© í›„ê¸° (ì†”ì§ ë¦¬ë·°)",
            "content": """ë¸”ë­í¬ í•œ ë‹¬ ì¨ë³¸ ì†”ì§í•œ í›„ê¸°ì…ë‹ˆë‹¤.

**ì¢‹ì•˜ë˜ ì :**
- ë‚´ ë¸”ë¡œê·¸ ìƒíƒœë¥¼ ê°ê´€ì ìœ¼ë¡œ ì•Œ ìˆ˜ ìˆìŒ
- í‚¤ì›Œë“œ ê²½ìŸ ë¶„ì„ì´ ì§„ì§œ ìœ ìš©í•¨
- ìƒìœ„ ë¸”ë¡œê·¸ë“¤ê³¼ ë¹„êµí•´ì„œ ë­ê°€ ë¶€ì¡±í•œì§€ ì•
- UIê°€ ê¹”ë”í•˜ê³  ì“°ê¸° í¸í•¨

**ì•„ì‰¬ìš´ ì :**
- ë¶„ì„ íšŸìˆ˜ ì œí•œ (ê·¼ë° ì´í•´ëŠ” í•¨)
- ê°€ë” ë¡œë”©ì´ ëŠë¦´ ë•Œ ìˆìŒ

**ê²°ë¡ :**
ë¸”ë¡œê·¸ ì§„ì§€í•˜ê²Œ í•˜ì‹œëŠ” ë¶„ë“¤í•œí… ì¶”ì²œì´ìš”!
íŠ¹íˆ í‚¤ì›Œë“œ ë¶„ì„ì€ ì§„ì§œ ë„ì›€ ë§ì´ ëì–´ìš”.

ë¬´ë£Œë¡œë„ ì¶©ë¶„íˆ ì“¸ë§Œí•©ë‹ˆë‹¤ ğŸ‘"""
        },
    ],
    "free": [
        {
            "title": "ì˜¤ëŠ˜ë„ ë¸”ë¡œê·¸ í™”ì´íŒ…!",
            "content": """ì˜¤ëŠ˜ë„ ì—´ì‹¬íˆ í¬ìŠ¤íŒ… í–ˆìŠµë‹ˆë‹¤!

ë¹„ ì˜¤ëŠ” ë‚ ì´ë¼ ì¹´í˜ì—ì„œ ì‘ì—…í–ˆëŠ”ë°
ë¶„ìœ„ê¸° ì¢‹ì•„ì„œ ì§‘ì¤‘ ì˜ ë˜ë„¤ìš” â˜•

ë‹¤ë“¤ ì˜¤ëŠ˜ í•˜ë£¨ë„ ìˆ˜ê³ í•˜ì…¨ì–´ìš”!
ë‚´ì¼ë„ í™”ì´íŒ…! ğŸ’ª"""
        },
        {
            "title": "ë¸”ë¡œê·¸ ìŠ¬ëŸ¼í”„ ì™”ëŠ”ë° ì–´ë–¡í•˜ì£  ã… ã… ",
            "content": """ìš”ì¦˜ ë¸”ë¡œê·¸ ê¸€ ì“°ê¸°ê°€ ë„ˆë¬´ í˜ë“¤ì–´ìš”.

ë­˜ ì¨ì•¼ í• ì§€ë„ ëª¨ë¥´ê² ê³ 
ì“°ê³  ì‹¶ì€ ì˜ìš•ë„ ì•ˆ ë‚˜ê³ ...

ë‹¤ë“¤ ìŠ¬ëŸ¼í”„ ì˜¬ ë•Œ ì–´ë–»ê²Œ ê·¹ë³µí•˜ì‹œë‚˜ìš”?
ì¡°ì–¸ ì¢€ ë¶€íƒë“œë ¤ìš” ã… ã… """
        },
        {
            "title": "ë¸”ë¡œê·¸í•˜ë©´ì„œ ìƒê¸´ ì¢‹ì€ ìŠµê´€",
            "content": """ë¸”ë¡œê·¸ 1ë…„ í•˜ë©´ì„œ ìƒê¸´ ì¢‹ì€ ìŠµê´€ë“¤ì´ ìˆì–´ìš”.

1. **ê¸°ë¡í•˜ëŠ” ìŠµê´€**
   - ì¼ìƒì„ ë” ê´€ì°°í•˜ê²Œ ë¨
   - ì‚¬ì§„ ì°ëŠ” ìŠµê´€

2. **ê¸€ì“°ê¸° ëŠ¥ë ¥ í–¥ìƒ**
   - ì²˜ìŒì—” 1000ìë„ í˜ë“¤ì—ˆëŠ”ë°
   - ì§€ê¸ˆì€ 3000ìë„ ê¸ˆë°© ì”€

3. **ê¾¸ì¤€í•¨**
   - ë§¤ì¼ ì¡°ê¸ˆì”©ì´ë¼ë„ í•˜ëŠ” ìŠµê´€
   - ì´ê²Œ ë‹¤ë¥¸ ê³³ì—ë„ ì ìš©ë¨

ë¸”ë¡œê·¸ ì‹œì‘í•˜ê¸¸ ì˜í–ˆë‹¤ëŠ” ìƒê°ì´ ë“¤ì–´ìš”!
ë‹¤ë“¤ í™”ì´íŒ…ì…ë‹ˆë‹¤ ğŸ˜Š"""
        },
    ],
}

# ============ ëŒ“ê¸€ í…œí”Œë¦¿ ============
COMMENT_TEMPLATES = [
    # ê³µê°/ì‘ì›
    "ì €ë„ ê³µê°í•´ìš”! í™”ì´íŒ…ì…ë‹ˆë‹¤ ğŸ’ª",
    "ì¢‹ì€ ì •ë³´ ê°ì‚¬í•©ë‹ˆë‹¤!",
    "ì˜¤ ì´ê±° ì§„ì§œ ë„ì›€ ë˜ë„¤ìš”!",
    "ì €ë„ ì´ë ‡ê²Œ í•´ë´ì•¼ê² ì–´ìš”~",
    "ëŒ€ë°• ê¿€íŒì´ì—ìš”!!",
    "ì™€ ì§„ì§œìš”? ì €ë„ í•´ë³¼ê²Œìš”!",
    "ì‘ì›í•©ë‹ˆë‹¤! í™”ì´íŒ…! ğŸ”¥",
    "ì €ë„ ê°™ì€ ê³ ë¯¼ì´ì—ˆëŠ”ë° ë„ì›€ ëì–´ìš”",
    "ì˜¤ëŠ˜ë„ ì¢‹ì€ ê¸€ ê°ì‚¬í•´ìš”~",
    "ë¸”ë¡œê·¸ ê°™ì´ ì„±ì¥í•´ìš”! ğŸ’ª",

    # ì§ˆë¬¸/ëŒ€í™”
    "í˜¹ì‹œ ì–¼ë§ˆë‚˜ ê±¸ë¦¬ì…¨ì–´ìš”?",
    "ì €ë„ ì‹œë„í•´ë³¼ê²Œìš”! ê°ì‚¬í•©ë‹ˆë‹¤",
    "ì˜¤ ì´ ë°©ë²• ì²˜ìŒ ì•Œì•˜ì–´ìš”!",
    "êµ¬ì²´ì ì¸ íŒ ê°ì‚¬í•©ë‹ˆë‹¤~",
    "ì €ë„ ë¹„ìŠ·í•œ ê²½í—˜ ìˆì–´ìš”!",
    "ì§„ì§œ ë„ì›€ ë§ì´ ë˜ëŠ” ê¸€ì´ë„¤ìš”",
    "ë¶ë§ˆí¬ í•´ë‘˜ê²Œìš”!",
    "ë‚˜ì¤‘ì— ì°¸ê³ í• ê²Œìš” ê°ì‚¬í•©ë‹ˆë‹¤",

    # ì¶•í•˜
    "ì¶•í•˜ë“œë ¤ìš”!! ğŸ‰",
    "ì™€ ëŒ€ë‹¨í•˜ì„¸ìš”!",
    "ë©‹ì ¸ìš”! ì €ë„ ì—´ì‹¬íˆ í• ê²Œìš”",
    "ë¶€ëŸ½ìŠµë‹ˆë‹¤ ã… ã…  ì €ë„ ì—´ì‹¬íˆ í•´ì•¼ê² ì–´ìš”",
    "ì—­ì‹œ ê¾¸ì¤€í•¨ì´ ë‹µì´ë„¤ìš”!",

    # ê³µìœ 
    "ì €ëŠ” ì´ë ‡ê²Œ í–ˆëŠ”ë° íš¨ê³¼ ë´¤ì–´ìš”~",
    "ë¹„ìŠ·í•œ ê²½í—˜ ìˆì–´ì„œ ê³µê°ë˜ë„¤ìš”",
    "ì €ë„ ë¸”ë­í¬ ì“°ëŠ”ë° ì¢‹ë”ë¼êµ¬ìš”!",
    "ë§ì•„ìš” í‚¤ì›Œë“œ ë¶„ì„ ì§„ì§œ ì¤‘ìš”í•´ìš”",

    # ê²©ë ¤
    "í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”! ë¶„ëª… ë  ê±°ì˜ˆìš”",
    "ì €ë„ ì²˜ìŒì—” ê·¸ë¬ì–´ìš”. í™”ì´íŒ…!",
    "ê¾¸ì¤€íˆ í•˜ì‹œë©´ ë¶„ëª… ì¢‹ì•„ì§ˆ ê±°ì˜ˆìš”",
    "ë‹¤ë“¤ ì²˜ìŒì—” í˜ë“¤ì–´ìš”. ê°™ì´ í˜ë‚´ìš”!",
    "ì‘ì›í• ê²Œìš”! í™”ì´íŒ…ì…ë‹ˆë‹¤ ğŸ’ª",
]


def get_random_blogger_name() -> str:
    """ëœë¤ ë¸”ë¡œê±° ì´ë¦„ ìƒì„±"""
    return random.choice(BLOGGER_NAMES)


def get_random_post(category: str = None) -> Dict:
    """ëœë¤ ê²Œì‹œê¸€ ìƒì„±"""
    if category and category in POST_TEMPLATES:
        templates = POST_TEMPLATES[category]
    else:
        # ì „ì²´ ì¹´í…Œê³ ë¦¬ì—ì„œ ëœë¤ ì„ íƒ
        all_templates = []
        for cat_templates in POST_TEMPLATES.values():
            all_templates.extend([(cat, t) for t in cat_templates for cat in POST_TEMPLATES if t in POST_TEMPLATES[cat]])

        category = random.choice(list(POST_TEMPLATES.keys()))
        templates = POST_TEMPLATES[category]

    template = random.choice(templates)

    return {
        "title": template["title"],
        "content": template["content"],
        "category": category,
        "author_name": get_random_blogger_name()
    }


def get_random_comment() -> str:
    """ëœë¤ ëŒ“ê¸€ ìƒì„±"""
    return random.choice(COMMENT_TEMPLATES)


# ============ ìë™ ìƒì„± í•¨ìˆ˜ ============

def generate_seed_posts(count: int = 20) -> List[int]:
    """ì´ˆê¸° ì‹œë“œ ê²Œì‹œê¸€ ìƒì„±"""
    from database.community_db import get_db_connection
    import json

    conn = get_db_connection()
    cursor = conn.cursor()

    created_ids = []

    for i in range(count):
        post = get_random_post()

        # ê°€ìƒ ì‚¬ìš©ì ID (10000 ì´ìƒìœ¼ë¡œ ì‹¤ì œ ì‚¬ìš©ìì™€ êµ¬ë¶„)
        fake_user_id = random.randint(10000, 99999)

        # ëœë¤ ì‹œê°„ (ìµœê·¼ 7ì¼ ë‚´)
        days_ago = random.randint(0, 7)
        hours_ago = random.randint(0, 23)
        created_at = (datetime.now() - timedelta(days=days_ago, hours=hours_ago)).isoformat()

        # ëœë¤ í†µê³„
        views = random.randint(10, 500)
        likes = random.randint(0, min(views // 5, 50))

        cursor.execute("""
            INSERT INTO posts (user_id, user_name, title, content, category, views, likes, created_at)
            VALUES (?, ?, ?, ?, ?, ?, ?, ?)
        """, (fake_user_id, post["author_name"], post["title"], post["content"],
              post["category"], views, likes, created_at))

        created_ids.append(cursor.lastrowid)

    conn.commit()
    conn.close()

    logger.info(f"Generated {len(created_ids)} seed posts")
    return created_ids


def generate_seed_comments(post_ids: List[int] = None, comments_per_post: tuple = (2, 8)) -> int:
    """ì´ˆê¸° ì‹œë“œ ëŒ“ê¸€ ìƒì„±"""
    from database.community_db import get_db_connection

    conn = get_db_connection()
    cursor = conn.cursor()

    # post_idsê°€ ì—†ìœ¼ë©´ ìµœê·¼ ê²Œì‹œê¸€ ì¡°íšŒ
    if not post_ids:
        cursor.execute("SELECT id FROM posts ORDER BY created_at DESC LIMIT 50")
        post_ids = [row['id'] for row in cursor.fetchall()]

    total_comments = 0

    for post_id in post_ids:
        # ê²Œì‹œê¸€ë‹¹ ëœë¤ ëŒ“ê¸€ ìˆ˜
        num_comments = random.randint(comments_per_post[0], comments_per_post[1])

        for _ in range(num_comments):
            fake_user_id = random.randint(10000, 99999)
            author_name = get_random_blogger_name()
            comment = get_random_comment()

            # ëœë¤ ì‹œê°„
            hours_ago = random.randint(0, 72)
            created_at = (datetime.now() - timedelta(hours=hours_ago)).isoformat()

            cursor.execute("""
                INSERT INTO post_comments (post_id, user_id, user_name, content, created_at)
                VALUES (?, ?, ?, ?, ?)
            """, (post_id, fake_user_id, author_name, comment, created_at))

            total_comments += 1

        # ëŒ“ê¸€ ìˆ˜ ì—…ë°ì´íŠ¸
        cursor.execute("""
            UPDATE posts SET comments_count = (
                SELECT COUNT(*) FROM post_comments WHERE post_id = ? AND is_deleted = FALSE
            ) WHERE id = ?
        """, (post_id, post_id))

    conn.commit()
    conn.close()

    logger.info(f"Generated {total_comments} seed comments")
    return total_comments


def generate_daily_content() -> Dict:
    """ë§¤ì¼ ìë™ ì½˜í…ì¸  ìƒì„± (ìŠ¤ì¼€ì¤„ëŸ¬ì—ì„œ í˜¸ì¶œ)"""
    from database.community_db import get_db_connection

    conn = get_db_connection()
    cursor = conn.cursor()

    result = {
        "posts_created": 0,
        "comments_created": 0
    }

    # 1. ìƒˆ ê²Œì‹œê¸€ ìƒì„± (3~5ê°œ)
    num_posts = random.randint(3, 5)
    new_post_ids = []

    for _ in range(num_posts):
        post = get_random_post()
        fake_user_id = random.randint(10000, 99999)

        # ì˜¤ëŠ˜ ì¤‘ ëœë¤ ì‹œê°„
        hours_ago = random.randint(0, 12)
        created_at = (datetime.now() - timedelta(hours=hours_ago)).isoformat()

        cursor.execute("""
            INSERT INTO posts (user_id, user_name, title, content, category, created_at)
            VALUES (?, ?, ?, ?, ?, ?)
        """, (fake_user_id, post["author_name"], post["title"], post["content"],
              post["category"], created_at))

        new_post_ids.append(cursor.lastrowid)
        result["posts_created"] += 1

    conn.commit()

    # 2. ê¸°ì¡´ ê²Œì‹œê¸€ì— ëŒ“ê¸€ ì¶”ê°€ (10~20ê°œ)
    cursor.execute("SELECT id FROM posts WHERE is_deleted = FALSE ORDER BY created_at DESC LIMIT 20")
    recent_posts = [row['id'] for row in cursor.fetchall()]

    num_comments = random.randint(10, 20)
    for _ in range(num_comments):
        post_id = random.choice(recent_posts) if recent_posts else None
        if not post_id:
            continue

        fake_user_id = random.randint(10000, 99999)
        author_name = get_random_blogger_name()
        comment = get_random_comment()

        cursor.execute("""
            INSERT INTO post_comments (post_id, user_id, user_name, content)
            VALUES (?, ?, ?, ?)
        """, (post_id, fake_user_id, author_name, comment))

        cursor.execute("""
            UPDATE posts SET comments_count = comments_count + 1 WHERE id = ?
        """, (post_id,))

        result["comments_created"] += 1

    conn.commit()
    conn.close()

    logger.info(f"Daily content generated: {result}")
    return result


def initialize_community() -> Dict:
    """ì»¤ë®¤ë‹ˆí‹° ì´ˆê¸°í™” (ì‹œë“œ ë°ì´í„° ìƒì„±)"""
    logger.info("Initializing community with seed data...")

    # 1. ì‹œë“œ ê²Œì‹œê¸€ ìƒì„± (30ê°œ)
    post_ids = generate_seed_posts(30)

    # 2. ì‹œë“œ ëŒ“ê¸€ ìƒì„±
    comments_count = generate_seed_comments(post_ids, (3, 10))

    return {
        "posts_created": len(post_ids),
        "comments_created": comments_count,
        "message": "Community initialized successfully"
    }
